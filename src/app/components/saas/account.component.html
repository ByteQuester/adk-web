<div class="page">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Account</mat-card-title>
      <mat-card-subtitle>
        {{ email }} Â· Plan: {{ planLabel }}
      </mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <div class="section">
        <div class="section-title">Usage</div>
        <div class="usage-row">
          <div class="usage-label">Requests</div>
          <div class="usage-value">{{ usage.count }} / {{ usage.limit }}</div>
        </div>
        <mat-progress-bar mode="determinate" [value]="usagePercent"></mat-progress-bar>
        <div class="usage-remaining">Remaining: {{ usage.remaining }}</div>
      </div>

      <div class="section">
        <div class="section-title">API access</div>
        <div class="kv">
          <div class="k">Backend</div>
          <div class="v">{{ backendUrl || 'Not configured' }}</div>
        </div>
        <div class="kv subtle">
          <div class="k">Auth</div>
          <div class="v">Supabase JWT attached to requests</div>
        </div>
        <div class="cta">
          <a mat-stroked-button color="primary" routerLink="/sandbox">Open trial sandbox</a>
          <a mat-flat-button color="primary" routerLink="/pricing" class="ml">Upgrade plan</a>
        </div>
      </div>
    </mat-card-content>
    <mat-card-actions>
      <button mat-stroked-button color="primary" (click)="resetTrial()">Reset trial (dev)</button>
      <span class="spacer"></span>
      <button mat-flat-button color="warn" (click)="signOut()">Sign out</button>
    </mat-card-actions>
  </mat-card>
</div>


